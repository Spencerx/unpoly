<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jasmine Specs</title>

    <link rel="stylesheet" href="/dist/jasmine.css">
    <link rel="stylesheet" href="/dist/specs.css">
    <link rel="stylesheet" href="/dist/unpoly.css">

    <script nonce="spec-runner-nonce">
      window.specs = {}
      window.specs.config = <%- JSON.stringify(config) %>)
    </script>

    <script nonce="spec-runner-nonce">
      function insertScript(src) {
        document.write('<script src="' + src + '" nonce="spec-runner-nonce"><' + '/script>')
      }

      insertScript('/dist/jasmine.js')

      let es6 = /(\?|&)es=es6($|\?|&)/.test(location.search)
      let minify = /(\?|&)minify=true($|\?|&)/.test(location.search)

      let esSuffix = es6 ? '.es6' : ''
      let minifySuffix = minify  ? '.min' : ''

      insertScript(`/dist/unpoly${esSuffix}${minifySuffix}.js`)

      if (/(\?|&)jquery=true($|\?|&)/.test(location.search)) {
        insertScript('https://code.jquery.com/jquery-3.6.0.js')
      }

      if (/(\?|&)migrate=true($|\?|&)/.test(location.search)) {
        insertScript(`/dist/unpoly-migrate${minifySuffix}.js`)
      }

      insertScript(`/dist/specs${esSuffix}.js`)
    </script>


<!--    <script>-->
<!--      if (/(\?|&)jquery=1($|\?|&)/.test(location.search)) {-->
<!--        document.write('<script src="https://code.jquery.com/jquery-3.6.0.js">\u003C/script\u003E')-->
<!--      }-->
<!--      if (/(\?|&)migrate=1($|\?|&)/.test(location.search)) {-->
<!--        document.write('<script src="/unpoly-migrate.js">\u003C/script\u003E')-->
<!--      }-->
<!--    </script>-->

    <!-- <script src="/specs.js"></script> -->

  </head>
  <body>
  </body>
</html>
